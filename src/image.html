<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="common.css" />
    <title>Danbooru Tools - Image Tools</title>

    <!-- v5 -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
    <script src="scripts/image.js" type="module" defer></script>
    <style>
      body {
        display: flex;
        flex-direction: column;
      }
      #main {
        flex: 1;
        display: flex;
        align-items: stretch;
        gap: 12px;
      }

      #image-container {
        flex: 2;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      #textbox-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: space-around;
        align-items: stretch;
      }
      #textbox-container > textarea {
        flex: 1;
      }

      #with-image {
        position: relative;
      }
      #with-image > img {
        max-height: 100%; /* make sure to adjust bbox to match resizing */
        max-width: 100%;
      }
      .bbox {
        background: #0004;
        border: 1px solid white;
        position: absolute;
        cursor: pointer;
      }

      #no-image {
        display: flex;
        flex-direction: column;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <header>
      <a href="index.html">Home</a>
      <a href="commentary.html">Commentary Tools</a>
      <a href="image.html" id="current-page">Image Tools</a>
      <a href="settings.html">Settings</a>
    </header>

    <h1 style="margin-top: 0">Image Tools</h1>
    <div>
      <label for="lang">OCR Language:</label>
      <select id="lang">
        <option value="jpn">Japanese</option>
        <option value="chi_sim">Chinese - Simplified</option>
        <option value="chi_tra">Chinese - Traditional</option>
        <option value="eng">English</option>
      </select>
    </div>

    <div id="main">
      <div id="image-container">
        <div id="no-image">
          <p>Paste or drag an image here to begin.</p>
          <div id="button-grid">
            <button>Copy from clipboard</button>
            <button>Enter link</button>
          </div>
        </div>
        <div id="with-image" style="display: none">
          <img src="" id="preview" style="margin-bottom: -6px" />
        </div>
      </div>
      <div id="textbox-container">
        <h4>Original</h4>
        <textarea id="original"></textarea>
        <h4>DeepL'd</h4>
        <textarea id="deepl" readonly></textarea>
        <button id="retranslate-btn">Retranslate</button>
      </div>
    </div>
  </body>
</html>
